<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title></title>
		<style>
			
		</style>
		<script src="./src/vue.js"></script>
	</head>

	<body>
		<div id="app">
			<h1>设置set函数</h1>
			<p>{{m}}</p>
			<button @click="list.miaov='change'">改变miaov</button>
			<button @click="list.ketang='ketang'">添加属性</button>
			<p>{{list.miaov}}</p>
			<p>{{list.ketang}}</p>
		</div>
		<script>
			/*let data = {
				m: 'hello'
			}*/

			/*
				一开始在数据对象中写上的数据，会被劫持，转称setter和setter，
				当数据发生变化，是可响应的，自动更新界面

				之后再添加的属性，就不是响应的

				之后添加的属性还是响应的？
			*/

			let vm = new Vue({
				el: '#app',
				data: {
					m: 'hello',
					list:{
						miaov:1
					}
				}
			});

			/*
				set方法
					Vue这个全局函数下的方法调用 
						Vue.set(对象,属性，值)
					实例上的方法
						vm.$set(对象,属性，值)
			*/
			// Object.assign(target,obj1,obj2)

			// 赋值的是一个新对象
			vm.list = Object.assign({},vm.list,{ketang:9999999999})
			var n = 0;

			// 设置的值上一次和这一次设置的一模一样，DOM并不会重新渲染
			/*setInterval(function (){
				console.log(123);
				vm.list.miaov = n;	
			},1000)*/

			// 把list整个对象重新赋值
			/*vm.list = {
				...vm.list,
				ketang:9000000000
			}*/

			// 可以响应
			//Vue.set(vm.list,'ketang',190)
			//vm.$set(vm.list,'ketang',90000)

			// 这样添加不能响应
			//vm.list.ketang  = 190;

			console.log(vm);

		</script>
	</body>
</html>